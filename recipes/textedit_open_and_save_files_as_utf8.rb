osxdefaults_defaults "Open files as UTF-8 in TextEdit" do
  domain 'com.apple.TextEdit'
  key 'PlainTextEncoding'
  integer 4
end

osxdefaults_defaults "Save files as UTF-8 in TextEdit" do
  domain 'com.apple.TextEdit'
  key 'PlainTextEncodingForWrite'
  integer 4
end
